local UIS = game:GetService("UserInputService")
local RS = game:GetService("ReplicatedStorage")
RS:WaitForChild("RemoteEvent").OnServerEvent:Connect(function(Player,Action,Mouse) -- receiving from server
	RS:WaitForChild("RemoteEvent"):FireAllClients(Player,Action,Mouse) -- firing to all clients
	if Action == "FlameAura" then -- if specific skill then it makes it go up for a second
		Player.Character.HumanoidRootPart.Anchored = true
		task.delay(1,function()
			Player.Character.HumanoidRootPart.Anchored = false
		end)
		local fp = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0,25,0)
		local raycastparams = RaycastParams.new()
		raycastparams.FilterType = Enum.RaycastFilterType.Include
		raycastparams.FilterDescendantsInstances = {game.Workspace}
		local Ray = workspace:Raycast(Player.Character.HumanoidRootPart.Position, Player.Character.HumanoidRootPart.CFrame.LookVector * 100, raycastparams)
		local finalpos
		local prev = Player.Character:FindFirstChild("HumanoidRootPart").CFrame
		local dist
		if Ray ~= nil then
			finalpos = Player.Character:FindFirstChild("HumanoidRootPart").CFrame - Player.Character:FindFirstChild("HumanoidRootPart").Position + Ray.Position
			fp = finalpos
			dist = (Player.Character:FindFirstChild("HumanoidRootPart").Position-finalpos.Position).Magnitude
			game.TweenService:Create(Player.Character:FindFirstChild("HumanoidRootPart"), TweenInfo.new(dist/120, Enum.EasingStyle.Linear, Enum.EasingDirection.Out), {CFrame = finalpos + Vector3.new(0,1,0)}):Play()
		else
			finalpos = Player.Character:FindFirstChild("HumanoidRootPart").CFrame * CFrame.new(0,25,0)
			fp = finalpos
			dist = (Player.Character:FindFirstChild("HumanoidRootPart").Position-finalpos.Position).Magnitude
			game.TweenService:Create(Player.Character:FindFirstChild("HumanoidRootPart"), TweenInfo.new(dist/120, Enum.EasingStyle.Linear, Enum.EasingDirection.Out), {CFrame = finalpos}):Play()
		end
	end
end)
RS:WaitForChild("HitBoxRemoteEvent").OnServerEvent:Connect(function(Player,Action,Damage,HittedCharacter)
	if Action == "Damage" then
		HittedCharacter.Humanoid:TakeDamage(Damage) -- damage
	end
end)
